---
title: "krkns"
description: "The Krkn Server (krkns) is the primary controller for the Krkn Application"
---

The Krkn Server is the primary controller and ochestrator of the distributed hash cracking network.

![Krkn 28](/images/Krkn-_28.png)

## Licensing

The Krkn Server requires a `license.json` file in order to function. This file must be placed in the `~/.config/krkn` folder. This file is signed and if manipulated the Krkn server will not operate.

![Image](/images/image-5.png)

## Environment Variables

The Krkn Server supports an optional environment variable for the `data` folder. The `data` folder contains the hash database and, depending on use, this can become large. It is possible to select a location for this by setting the `KRKN_DATA` environment variable to your preferred location.  This must remain set so it is recommended to add it to your profile.

## Config

The `config` subcommand can be used to persist settings across executions.

- **Interface**: The active interface to listen on (Tailscale defaults to port only) (string)
- **Port**: The port to serve on (int)
- **Max Runtime**: The maximum duration a job is allowed to run for in hours (int)
- **Optimized Kernels**: Utilize optimized kernels across attacks (bool)
- **Workload Profile**: The amount of resources allocated to a job [1-4 inclusive] (int)
- **Tailscale**: Use the Tailscale Tailnet (bool)
- **QUIC**: Use HTTP/3 (QUIC) for communications (bool)
- **Insecure**: Do not require transport credentials (bool)
- **Debug**: Verbose output (bool)
- **Hostname**: The Tailscale Hostname to use (defaults to system Hostname if not set)

![Krkn 26](/images/Krkn-_26.png)

## Get

The `get` subcommand can be used to query the current configurations.

![Krkn 68](/images/Krkn-_68.png)

## Set

The `set` subcommand can be used to alter a configuration value.

![Krkn 25](/images/Krkn-_25.png)

## Unset

The `unset` subcommand can be used to clear a single configuration value.

![Krkn 24](/images/Krkn-_24.png)

## Clear

The `clear` subcommand can be used to clear all settings.

## Serve

The `serve` subcommand can be used to start the Krkn Server. If no flags are set, the cache will be used to retrieve settings.

![Krkn 23](/images/Krkn-_23.png)

![Krkn 22](/images/Krkn-_22.png)

# Tailscale

## TS Net

Because this is using the TSNet it will need to be configured with its own address on tailscale. When you start the server you will be prompted to either supply an environment variable or click a link to approve the new node. An admin must approve this link before it can serve on Tailscale.

![Image](/images/image-8.png)

## Hostname

The hostname that will be registered on Tailscale will be either what is set for hostname in the configs + -krkn or the hosts default \<hostname\>-krkn. This is to make it easily identifiable.

## Ready State

When the server is ready and listening on the TSNet you will not see it in ss or ps/netstat commands. You will see a notification indicating the **AuthLoop** state is: `Running; done`

# Dead Instrument Removal

![Krkn 6](/images/Krkn-_6.png)